{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}This is the Index: A List of Every Car in the Database{% endblock %}</h1>
  <a class="action" href="{{ url_for('cars.search') }}">Search!</a>
{% endblock %}

{% block content %}
<h2> Sort</h2>
<!-- trying to implement a sorting method, based on hertz car sales. Might need some JS to get it working-->
<form action="{{ url_for('cars.index') }}">
  <div class="sort-by">
    <select class="form-control select">
      <option value="?">Reset Sort</option>
      <option value="?sortBy=year">Year</option>
      <option value="?sortBy=price">Price</option>
      <option value="?sortBy=mileage">Mileage</option>
    </select>
  </div>
  <input type="submit" value="Submit">
</form>  
  {% for car in cars %}
    <article class="cars">
        <header>
            <div>
                <h1>{{ car['year'] }}</h1>
                <div class="about">Make: {{ car['make'] }}</div>
                <div class="about">Model: {{ car['model'] }}</div>
                <div class="about">Trim: {{ car['trim'] }}</div>
                <div class="about">Drive: {{ car['drive'] }}</div>
                <div class="about">Mileage: {{ car['mileage'] }}</div>
                <div class="about">Price: {{ car['price'] }}</div>
            </div>
        </header>
    </article>
  {% endfor %}

  <div class="pagination">
    <a href="{{ url_for('cars.index') }}?page=0">first</a>
    <a href="{{ url_for('cars.index') }}?page={{ page_number - 1 }}">prev</a>
    {{ page_number }}
    <a href="{{ url_for('cars.index') }}?page={{ page_number + 1 }}">next</a>
    <a href="{{ url_for('cars.index') }}?page=-1">last</a>
  </div>
{% endblock %}